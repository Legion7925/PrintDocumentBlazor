@layout LoginLayout
@page "/ForgotPassword"

<MudRTLProvider RightToLeft=true>
    <MudCard Class="card" Elevation="4" Style="max-width:400px;margin:0 auto;margin-top:12%;">
        @if (textSent is not true)
        {
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Typo="Typo.h6">فراموشی کلمه عبور</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudCardContent>
                <MudText>لطفا شماره موبایل خود را برای ارسال پیامک وارد کنید</MudText>
                <MudTextField Class="my-5" @bind-Value="phoneNumber" Label="شماره موبایل" Variant="Variant.Text" InputType="InputType.Telephone"/>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="mx-auto" @onclick="SendTextToUser">ارسال پیامک</MudButton>
            </MudCardActions>

        }
        else
        {
            <MudCardContent>
                <MudText>پیامک برای شماره تلفن @phoneNumber ارسال شد لطفا کد ارسالی را وارد نمایید</MudText>
                <MudTextField Class="my-5" @bind-Value="code" Label="کد ارسالی" Variant="Variant.Text" InputType="InputType.Telephone" />
            </MudCardContent>
        }
    </MudCard>

</MudRTLProvider>

@code {
    private string phoneNumber = string.Empty;

    private string code = string.Empty;

    private bool textSent = false;

    private void SendTextToUser()
    {
        textSent = true;
    }
}